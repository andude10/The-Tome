@model eBookShop.ViewModels.CatalogViewModel;
@{
    Layout = null;
}

<div class="row" id="book-list">
    @foreach (var obj in Model.Books)
    {
        <div class="col-sm-6 text-center" style="width: 300px;">
            <div class="mt-3 book-presentation">
                <div class="card-header">
                    <a asp-controller="Market" asp-action="BookViewer" asp-route-bookId="@obj.Id">
                         <h5>@obj.Title</h5>
                    </a>
                    <p class="lead">@obj.Author</p>
                </div>
                <div class="card-body" style="height: 370px;">
                    <img class="img-fluid" src="@obj.CoverUrl" alt="Cover" style="height: 280px; width: auto"/>
                    <div class="row mt-3">
                        <h4 class="col-sm-6 text-center text-xl-start">@obj.Price$</h4>
                        <a asp-controller="Market" asp-action="GiveStarToBook" asp-route-bookId="@obj.Id"
                           class="p-2 col-sm-6 text-xl-end bg-white border-0" role="button" >
                            @{
                                var starIcon = Model.BooksLikedByUser.Exists(b => b.Id == obj.Id) 
                                    ? "https://img.icons8.com/ios-filled/48/000000/star--v1.png" 
                                    : "https://img.icons8.com/ios/48/000000/star--v1.png";
                            }
                            <img class="img-fluid" style="width: 30px; height: 30px" src="@starIcon" alt="LikeIt"/>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    }
</div>